{"version":3,"sources":["../src/Header.jsx"],"names":["React","useContext","Responsive","injectIntl","intlShape","AppContext","APP_CONFIG_INITIALIZED","ensureConfig","mergeConfig","getConfig","subscribe","DesktopHeader","MobileHeader","messages","AUTHN_MINIMAL_HEADER","process","env","Header","intl","homeLink","coursesLink","articlesLink","programsLink","searchLink","aboutLink","authenticatedUser","config","mainMenu","type","href","LMS_BASE_URL","content","formatMessage","active","userMenu","username","hrefType","LOGOUT_URL","encodeURIComponent","BASE_URL","loggedOutItems","LOGIN_URL","props","logo","LOGO_URL","logoAltText","SITE_NAME","logoDestination","loggedIn","avatar","siteName","defaultProps","propTypes","isRequired"],"mappings":"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","sourcesContent":["/* eslint-disable react/default-props-match-prop-types */\nimport React, { useContext } from \"react\";\nimport Responsive from \"react-responsive\";\nimport { injectIntl, intlShape } from \"@edx/frontend-platform/i18n\";\nimport { AppContext } from \"@edx/frontend-platform/react\";\nimport {\n  APP_CONFIG_INITIALIZED,\n  ensureConfig,\n  mergeConfig,\n  getConfig,\n  subscribe,\n} from \"@edx/frontend-platform\";\n\nimport DesktopHeader from \"./DesktopHeader\";\nimport MobileHeader from \"./MobileHeader\";\n\nimport messages from \"./Header.messages\";\n\nensureConfig(\n  [\n    \"LMS_BASE_URL\",\n    \"LOGOUT_URL\",\n    \"LOGIN_URL\",\n    \"SITE_NAME\",\n    \"LOGO_URL\",\n    \"ORDER_HISTORY_URL\",\n  ],\n  \"Header component\"\n);\n\nsubscribe(APP_CONFIG_INITIALIZED, () => {\n  mergeConfig(\n    {\n      AUTHN_MINIMAL_HEADER: !!process.env.AUTHN_MINIMAL_HEADER,\n    },\n    \"Header additional config\"\n  );\n});\n\nfunction Header({\n  intl,\n  homeLink,\n  coursesLink,\n  articlesLink,\n  programsLink,\n  searchLink,\n  aboutLink,\n}) {\n  const { authenticatedUser, config } = useContext(AppContext);\n\n  const mainMenu = [\n    {\n      type: \"item\",\n      href: `${config.LMS_BASE_URL}/dashboard`,\n      content: intl.formatMessage(messages[\"header.links.courses\"]),\n    },\n    {\n      type: \"item\",\n      href: `/`,\n      active: homeLink,\n      content: intl.formatMessage(messages[\"header.links.home\"]),\n    },\n    {\n      type: \"item\",\n      href: `/search`,\n      active: searchLink,\n      content: intl.formatMessage(messages[\"header.links.search\"]),\n    },\n    {\n      type: \"item\",\n      href: `/programs`,\n      active: programsLink,\n      content: intl.formatMessage(messages[\"header.links.programs\"]),\n    },\n    {\n      type: \"item\",\n      href: `/courses`,\n      active: coursesLink,\n      content: intl.formatMessage(messages[\"header.links.courses\"]),\n    },\n    {\n      type: \"item\",\n      href: `/articles`,\n      active: articlesLink,\n      content: intl.formatMessage(messages[\"header.links.articles\"]),\n    },\n    {\n      type: \"item\",\n      href: `/about`,\n      active: aboutLink,\n      content: intl.formatMessage(messages[\"header.links.about\"]),\n    },\n  ];\n\n  const userMenu =\n    authenticatedUser === null\n      ? []\n      : [\n          {\n            type: \"item\",\n            href: `/dashboard`,\n            content: intl.formatMessage(messages[\"header.user.menu.dashboard\"]),\n          },\n          {\n            type: \"item\",\n            href: `/profile/${authenticatedUser.username}`,\n            content: intl.formatMessage(messages[\"header.user.menu.profile\"]),\n          },\n          {\n            type: \"item\",\n            href: `${config.LMS_BASE_URL}/dashboard`,\n            hrefType: \"external\",\n            content: intl.formatMessage(\n              messages[\"header.user.menu.lms.dashboard\"]\n            ),\n          },\n          {\n            type: \"item\",\n            href: `${config.LMS_BASE_URL}/account/settings`,\n            hrefType: \"external\",\n            content: intl.formatMessage(\n              messages[\"header.user.menu.lms.account.settings\"]\n            ),\n          },\n          {\n            type: \"item\",\n            href: `${config.LOGOUT_URL}?next=${encodeURIComponent(\n              config.BASE_URL\n            )}`,\n            hrefType: \"external\",\n            content: intl.formatMessage(messages[\"header.user.menu.logout\"]),\n          },\n        ];\n\n  const loggedOutItems = [\n    {\n      type: \"item\",\n      href: config.LOGIN_URL,\n      content: intl.formatMessage(messages[\"header.user.menu.login\"]),\n    },\n    {\n      type: \"item\",\n      href: `${config.LMS_BASE_URL}/register`,\n      content: intl.formatMessage(messages[\"header.user.menu.register\"]),\n    },\n  ];\n\n  const props = {\n    logo: config.LOGO_URL,\n    logoAltText: config.SITE_NAME,\n    logoDestination: `/`,\n    loggedIn: authenticatedUser !== null,\n    username: authenticatedUser !== null ? authenticatedUser.username : null,\n    avatar: authenticatedUser !== null ? authenticatedUser.avatar : null,\n    mainMenu: getConfig().AUTHN_MINIMAL_HEADER ? [] : mainMenu,\n    userMenu: getConfig().AUTHN_MINIMAL_HEADER ? [] : userMenu,\n    loggedOutItems: getConfig().AUTHN_MINIMAL_HEADER ? [] : loggedOutItems,\n    siteName: config.SITE_NAME,\n  };\n\n  Header.defaultProps = {\n    homeLink: false,\n    coursesLink: false,\n    articlesLink: false,\n    programsLink: false,\n    aboutLink: false,\n  };\n\n  return (\n    <>\n      <Responsive maxWidth={768}>\n        <MobileHeader {...props} />\n      </Responsive>\n      <Responsive minWidth={769}>\n        <DesktopHeader {...props} />\n      </Responsive>\n    </>\n  );\n}\n\nHeader.propTypes = {\n  intl: intlShape.isRequired,\n};\n\nexport default injectIntl(Header);\n"],"file":"Header.js"}